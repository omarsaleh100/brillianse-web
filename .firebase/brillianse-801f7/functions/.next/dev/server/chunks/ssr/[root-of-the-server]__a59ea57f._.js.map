{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/omarsaleh/Desktop/python/brillianse/frontend/lib/firebase.js"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDy6JnKvUrWURsd7oYX4zA8oULTv_QMVWM\",\n  authDomain: \"brillianse-801f7.firebaseapp.com\",\n  projectId: \"brillianse-801f7\",\n  storageBucket: \"brillianse-801f7.firebasestorage.app\",\n  messagingSenderId: \"852329347649\",\n  appId: \"1:852329347649:web:90fa82dee06f3eac4664c0\",\n  measurementId: \"G-PE102BLV07\"\n};\n\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nconst storage = getStorage(app);\n\nexport { app, db, auth, storage };"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,MAAM,CAAC,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AACtE,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,UAAU,IAAA,kMAAU,EAAC"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/omarsaleh/Desktop/python/brillianse/frontend/app/group/%5BgroupId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport { db, auth } from '../../../lib/firebase';\nimport { doc, getDoc, DocumentData } from 'firebase/firestore';\nimport { onAuthStateChanged, User, signOut } from 'firebase/auth';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\nfunction getTodayDate() {\n  return new Date().toISOString().split('T')[0];\n}\n\n// --- MODIFIED: Add profilePictureUrl ---\ntype UserProfile = {\n  id: string;\n  username: string;\n  email: string;\n  profilePictureUrl?: string; // <-- NEW\n  socials: {\n    twitter?: string;\n    linkedin?: string;\n    website?: string;\n  };\n};\n\nexport default function GroupPage() {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [members, setMembers] = useState<UserProfile[]>([]);\n  \n  const router = useRouter();\n  const params = useParams();\n  const groupId = params.groupId as string;\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      if (!currentUser) {\n        router.push('/');\n      }\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, [router]);\n\n  useEffect(() => {\n    if (!groupId || !user) return;\n    const fetchGroupData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const today = getTodayDate();\n        \n        const groupRef = doc(db, `daily_groups/${today}/groups`, groupId);\n        const groupSnap = await getDoc(groupRef);\n        if (!groupSnap.exists()) {\n          throw new Error('This group does not exist or has not been formed yet.');\n        }\n\n        const memberIds: string[] = groupSnap.data().members || [];\n        const profilePromises = memberIds.map(id => \n          getDoc(doc(db, 'users', id))\n        );\n        const profileDocs = await Promise.all(profilePromises);\n\n        // --- MODIFIED: Get the profilePictureUrl ---\n        const memberProfiles = profileDocs\n          .filter(docSnap => docSnap.exists())\n          .map(docSnap => {\n            const data = docSnap.data() as DocumentData;\n            return {\n              id: docSnap.id,\n              username: data.username || 'Anonymous User',\n              email: data.email,\n              profilePictureUrl: data.profilePictureUrl || null, // <-- NEW\n              socials: data.socials || {},\n            };\n          });\n        setMembers(memberProfiles);\n      } catch (err: any) {\n        console.error(err);\n        setError(err.message || 'Failed to load group members.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchGroupData();\n  }, [groupId, user]);\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (err) {\n      console.error('Failed to sign out:', err);\n    }\n  };\n\n  if (loading) {\n    return <main className=\"loading-container\">Loading your group...</main>;\n  }\n  if (error) {\n    return <main className=\"error-container\">{error}</main>;\n  }\n\n  return (\n    <main>\n      <Head>\n        <title>Your Daily Group</title>\n      </Head>\n\n      <div className=\"group-header\">\n        <h1>Your Group: <code>{groupId}</code></h1>\n        <p>Here are the {members.length} members who answered the same as you today.</p>\n        <div className=\"header-links\">\n          <Link href=\"/profile\">Edit Your Profile</Link>\n          <Link href=\"/answers\">View My Answers</Link>\n          <button onClick={handleSignOut} className=\"btn-sign-out\">\n            Sign Out\n          </button>\n        </div>\n      </div>\n\n      <div className=\"member-list\">\n        {members.map(member => (\n          <div key={member.id} className=\"member-card\">\n            {/* --- NEW: Profile Picture --- */}\n            <img \n              src={member.profilePictureUrl || 'https://placehold.co/100x100/f0f0f0/333?text=?'} \n              alt=\"Profile\"\n              className=\"member-avatar\"\n              onError={(e) => (e.currentTarget.src = 'https://placehold.co/100x100/f0f0f0/333?text=?')}\n            />\n            {/* ---------------------------- */}\n            \n            <div className=\"member-info\">\n              <h3>\n                {member.username}\n                {member.id === user?.uid && (\n                  <span className=\"you-tag\">(This is you)</span>\n                )}\n              </h3>\n              \n              <div className=\"social-links\">\n                {/* ... (social links unchanged) ... */}\n                {member.socials.twitter && (\n                  <a href={`https://twitter.com/${member.socials.twitter.replace('@', '')}`} target=\"_blank\" rel=\"noopener noreferrer\">Twitter</a>\n                )}\n                {member.socials.linkedin && (\n                  <a href={member.socials.linkedin.startsWith('http') ? member.socials.linkedin : `https://${member.socials.linkedin}`} target=\"_blank\" rel=\"noopener noreferrer\">LinkedIn</a>\n                )}\n                {member.socials.website && (\n                  <a href={member.socials.website.startsWith('http') ? member.socials.website : `https://${member.socials.website}`} target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n                )}\n                {member.id !== user?.uid && (\n                  <a href={`mailto:${member.email}`}>Email</a>\n                )}\n              </div>\n              \n              {!member.socials.twitter && !member.socials.linkedin && !member.socials.website && member.id !== user?.uid && (\n                <p className=\"no-socials\">This user hasn't added their socials yet.</p>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </main>\n  );\n}"],"names":[],"mappings":"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"}}]
}