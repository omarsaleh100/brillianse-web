{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/omarsaleh/Desktop/python/brillianse/frontend/lib/firebase.js"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\n// Read keys from the .env.local file\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// Initialize Firebase\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nconst storage = getStorage(app);\n\nexport { app, db, auth, storage, GoogleAuthProvider };"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,qCAAqC;AACrC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAC,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AACtE,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,UAAU,IAAA,kMAAU,EAAC"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/omarsaleh/Desktop/python/brillianse/frontend/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport { db, auth } from '../lib/firebase';\nimport { doc, getDoc, setDoc, arrayUnion, runTransaction, deleteField } from 'firebase/firestore';\nimport {\n  onAuthStateChanged,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  User,\n  signOut,\n  sendEmailVerification,\n  signInWithPopup,\n  GoogleAuthProvider\n} from 'firebase/auth';\nimport { useRouter } from 'next/navigation';\n\nfunction getTodayDate() {\n  return new Date().toISOString().split('T')[0];\n}\n\nexport default function Home() {\n  const [questions, setQuestions] = useState<string[]>([]);\n  const [answers, setAnswers] = useState<{ [key: number]: string }>({});\n  \n  const [isCheckingUser, setIsCheckingUser] = useState(true);\n  const [isFetchingQuestions, setIsFetchingQuestions] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  const [user, setUser] = useState<User | null>(null);\n  const [groupId, setGroupId] = useState<string | null>(null);\n  \n  // --- Auth State ---\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showAuthForm, setShowAuthForm] = useState(false);\n  const [authMode, setAuthMode] = useState<'signup' | 'login'>('signup');\n  const [authError, setAuthError] = useState<string | null>(null);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [showGroupFullModal, setShowGroupFullModal] = useState(false);\n  \n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  \n  const router = useRouter();\n\n  const resetQuestionState = () => {\n    setAnswers({});\n    setCurrentQuestionIndex(0);\n    setGroupId(null);\n    setShowAuthForm(false);\n    setShowGroupFullModal(false);\n    setError(null);\n    setAuthError(null);\n    setConfirmPassword('');\n    setAuthMode('signup');\n  };\n\n  // --- 1. Listen for user auth changes ---\n  useEffect(() => {\n    // If the auth form is showing, allow scrolling (remove the class)\n    if (showAuthForm) {\n      document.body.classList.remove('no-scroll');\n    } else {\n      // Otherwise (during questions), lock scrolling\n      document.body.classList.add('no-scroll');\n    }\n\n    // Cleanup: always remove the class when unmounting or changing state\n    return () => {\n      document.body.classList.remove('no-scroll');\n    };\n  }, [showAuthForm]); // <-- Dependency added here\n\n  // --- 2. Check if user has already played ---\n  useEffect(() => {\n    const checkUserStatus = async () => {\n      // If no user, stop checking user status\n      if (!user) {\n        setIsCheckingUser(false);\n        return;\n      }\n      const userRef = doc(db, 'users', user.uid);\n      const userSnap = await getDoc(userRef);\n      const today = getTodayDate();\n\n      if (userSnap.exists()) {\n        const userData = userSnap.data();\n\n        if (!userData.isProfileComplete) {\n          router.push('/profile');\n          return; \n        }\n\n        if (userData.groupFull && userData.groupFull.date === today) {\n          setShowGroupFullModal(true); \n          setIsCheckingUser(false);    \n          return;                     \n        }\n        \n        if (userData.dailyGroup && userData.dailyGroup.date === today) {\n          router.push(`/group/${userData.dailyGroup.groupId}`);\n          return;\n        }\n      }\n    \n      setIsCheckingUser(false); \n    };\n    checkUserStatus();\n  }, [user, router]);\n\n  // --- 3. Fetch daily questions ---\n  useEffect(() => {\n    // Only fetch after we've confirmed user status\n    if (isCheckingUser) return;\n\n    const fetchQuestions = async () => {\n      try {\n        setIsFetchingQuestions(true);\n        const docRef = doc(db, 'config', 'daily');\n        const docSnap = await getDoc(docRef);\n        \n        if (docSnap.exists()) {\n          const data = docSnap.data();\n          // Check if the date matches today\n          if (data.date === getTodayDate()) {\n            setQuestions(data.questions || []);\n            setCurrentQuestionIndex(0); \n          } else {\n            // Data exists but it's old\n            setError('Questions for today are not ready yet. Check back soon!');\n          }\n        } else {\n          // Document doesn't exist at all\n          setError('Questions for today are not ready yet. Check back soon!');\n        }\n      } catch (err) {\n        console.error(err);\n        setError('Failed to load questions. Please try refreshing.');\n      } finally {\n        setIsFetchingQuestions(false);\n      }\n    };\n    fetchQuestions();\n  }, [isCheckingUser]);\n\n  useEffect(() => {\n    document.body.classList.add('no-scroll');\n    return () => {\n      document.body.classList.remove('no-scroll');\n    };\n  }, []);\n\n  const handleAnswer = async (questionIndex: number, answer: string) => {\n    const newAnswers = { ...answers, [questionIndex]: answer };\n    setAnswers(newAnswers);\n\n    if (questionIndex === questions.length - 1) {\n      const finalGroupId = questions.map((_, index) => newAnswers[index] === 'yes' ? '1' : '0').join('');\n      setGroupId(finalGroupId);\n\n      if (user) {\n        const status = await assignUserToGroup(user, finalGroupId, newAnswers);\n        if (status === 'full') {\n          setShowGroupFullModal(true);\n        } else if (status === 'success') {\n          const userSnap = await getDoc(doc(db, 'users', user.uid));\n          const userData = userSnap.data();\n          setShowAuthForm(false);\n          if (userData?.isProfileComplete) {\n            router.push(`/group/${finalGroupId}`);\n          } else {\n            router.push(`/profile`);\n          }\n        }\n      } else {\n        setShowAuthForm(true);\n      }\n    } else {\n      setCurrentQuestionIndex(prev => prev + 1);\n    }\n  };\n\n  const handleAuth = async (isSigningUp: boolean) => {\n    if (!email || !password) {\n      setAuthError('Please enter email and password.');\n      return;\n    }\n    if (isSigningUp && password !== confirmPassword) {\n      setAuthError('Passwords do not match.');\n      return;\n    }\n    setAuthError(null);\n    try {\n      let userCredential;\n      if (isSigningUp) {\n        userCredential = await createUserWithEmailAndPassword(auth, email, password);\n        await sendEmailVerification(userCredential.user);\n      } else {\n        userCredential = await signInWithEmailAndPassword(auth, email, password);\n      }\n      \n      const loggedInUser = userCredential.user;\n      const today = getTodayDate();\n      const userRef = doc(db, 'users', loggedInUser.uid);\n      \n      const userSnap = await getDoc(userRef);\n      let userData = userSnap.exists() ? userSnap.data() : null;\n\n      if (userData) {\n        if (userData.groupFull && userData.groupFull.date === today) {\n          setShowAuthForm(false);\n          setShowGroupFullModal(true);\n          return;\n        }\n        if (userData.dailyGroup && userData.dailyGroup.date === today) {\n          setShowAuthForm(false); \n          return; \n        }\n      }\n\n      if (isSigningUp) {\n        await setDoc(userRef, {\n          email: loggedInUser.email,\n          isProfileComplete: false,\n          username: loggedInUser.email?.split('@')[0] || `user${Date.now()}`\n        }, { merge: true });\n        const newUserSnap = await getDoc(userRef);\n        userData = newUserSnap.data() || null; \n      }\n\n      if (groupId) {\n        const status = await assignUserToGroup(loggedInUser, groupId, answers); \n        if (status === 'full') { \n          setShowAuthForm(false); \n          setShowGroupFullModal(true); \n        } else if (status === 'success') {\n          setShowAuthForm(false);\n          if (userData?.isProfileComplete) {\n            router.push(`/group/${groupId}`);\n          } else {\n            router.push(`/profile`);\n          }\n        }\n      } else {\n        router.refresh(); \n      }\n    } catch (err: any) {\n      console.error(\"Auth error:\", err);\n      if (err.code === 'auth/email-already-in-use') {\n        setAuthError('This email is already in use.');\n      } else if (err.code === 'auth/weak-password') {\n        setAuthError('Password must be at least 6 characters.');\n      } else if (err.code === 'auth/invalid-email') {\n        setAuthError('Please enter a valid email address.');\n      } else if (err.code === 'auth/invalid-credential') {\n        setAuthError('Invalid email or password.');\n      } else {\n        setAuthError('An error occurred. Please try again.');\n      }\n    }\n  };\n\n  const handleGoogleJoin = async () => {\n    setAuthError(null);\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const loggedInUser = result.user;\n      const today = getTodayDate();\n      const userRef = doc(db, 'users', loggedInUser.uid);\n      \n      const userSnap = await getDoc(userRef);\n      let userData = userSnap.exists() ? userSnap.data() : null;\n\n      if (!userSnap.exists()) {\n        userData = {\n          email: loggedInUser.email,\n          isProfileComplete: false,\n          username: loggedInUser.displayName || loggedInUser.email?.split('@')[0] || `user${Date.now()}`,\n          profilePictureUrl: loggedInUser.photoURL || null,\n        };\n        await setDoc(userRef, userData, { merge: true });\n      }\n\n      if (userData) {\n        if (userData.groupFull && userData.groupFull.date === today) {\n          setShowAuthForm(false);\n          setShowGroupFullModal(true);\n          return;\n        }\n        if (userData.dailyGroup && userData.dailyGroup.date === today) {\n          router.push(`/group/${userData.dailyGroup.groupId}`);\n          return;\n        }\n      }\n\n      if (groupId) {\n        const status = await assignUserToGroup(loggedInUser, groupId, answers);\n        if (status === 'full') {\n          setShowAuthForm(false);\n          setShowGroupFullModal(true);\n        } else if (status === 'success') {\n          setShowAuthForm(false);\n          if (userData?.isProfileComplete) {\n            router.push(`/group/${groupId}`);\n          } else {\n            router.push(`/profile`);\n          }\n        }\n      } else {\n        router.refresh();\n      }\n\n    } catch (err: any) {\n      console.error(\"Google join error:\", err);\n      setAuthError(\"Failed to sign in with Google.\");\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (err) {\n      console.error('Failed to sign out:', err);\n      setError('Failed to sign out.');\n    }\n  };\n\n  const handleBack = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prev => prev - 1);\n    }\n  };\n\n  const assignUserToGroup = async (\n    currentUser: User, \n    finalGroupId: string,\n    rawAnswers: { [key: number]: string }\n  ): Promise<'success' | 'full'> => {\n    if (!currentUser || !finalGroupId) return 'success';\n    const today = getTodayDate();\n    const userRef = doc(db, 'users', currentUser.uid);\n\n    try {\n      const status = await runTransaction(db, async (transaction) => {\n        const groupRef = doc(db, `daily_groups/${today}/groups`, finalGroupId);\n        const groupSnap = await transaction.get(groupRef);\n        \n        let members: string[] = [];\n        if (groupSnap.exists()) {\n          members = groupSnap.data().members || [];\n        }\n\n        if (members.length >= 10 && !members.includes(currentUser.uid)) {\n          transaction.set(userRef, {\n            groupFull: { date: today }\n          }, { merge: true });\n          return 'full';\n        }\n\n        const answersAsArray = questions.map((_, index) => rawAnswers[index]);\n        const dailyGroupData = {\n          date: today,\n          groupId: finalGroupId,\n          answers: answersAsArray\n        };\n\n        transaction.set(groupRef, {\n          members: arrayUnion(currentUser.uid)\n        }, { merge: true });\n\n        transaction.set(userRef, { \n          dailyGroup: dailyGroupData,\n          groupFull: deleteField()\n        }, { merge: true });\n        \n        return 'success';\n      });\n\n      return status;\n      \n    } catch (err) {\n      console.error('Failed to assign group with transaction:', err);\n      setError('Error joining group. Please try again.');\n      return 'success';\n    }\n  };\n\n  // --- LOADING STATE (RENDER THIS IF FETCHING) ---\n  if (isCheckingUser || isFetchingQuestions) {\n    return (\n      <main className=\"loading-container\">\n        {/* This will appear inside the fadeInPage animation */}\n        <p>Loading today's questions...</p>\n      </main>\n    );\n  }\n\n  return (\n    <main>\n      <Head>\n        <title>Brillianse - Daily Questions</title>\n      </Head>\n\n      {/* Sign In Button */}\n      {!user && !showAuthForm && (\n        <div className=\"header-actions\">\n          <button className=\"btn-sign-in-header\" onClick={() => {\n            setAuthError(null);\n            setEmail('');\n            setPassword('');\n            setShowLoginModal(true);\n            setConfirmPassword('');\n            setAuthMode('login');\n            setShowAuthForm(true);\n          }}>\n            Sign In\n          </button>\n        </div>\n      )}\n\n      {/* Post-answer Auth Form */}\n      {showAuthForm && (\n        <div className=\"auth-container\">\n          {authMode === 'signup' ? (\n            <>\n              <h2>You're in Group {groupId}!</h2>\n              <p>Sign up to see your group members.</p>\n              <div className=\"auth-form\">\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" />\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" />\n                <input \n                  type=\"password\" \n                  value={confirmPassword} \n                  onChange={(e) => setConfirmPassword(e.target.value)} \n                  placeholder=\"Confirm Password\" \n                />\n                <button onClick={handleGoogleJoin} className=\"btn-google\">\n                  Continue with Google\n                </button>\n                <button onClick={() => handleAuth(true)} className=\"btn-primary\">Sign Up</button>\n                {authError && <p className=\"auth-error\">{authError}</p>}\n              </div>\n              <p className=\"auth-toggle-link\">\n                Already have an account? <span onClick={() => { setAuthMode('login'); setAuthError(null); }}>Log In</span>\n              </p>\n            </>\n          ) : (\n            <>\n              <h2>Log In</h2>\n              <p>Log in to see your group members.</p>\n              <div className=\"auth-form\">\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" />\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" />\n                <button onClick={handleGoogleJoin} className=\"btn-google\">\n                  Continue with Google\n                </button>\n                <button onClick={() => handleAuth(false)} className=\"btn-primary\">Log In with Email</button>\n                {authError && <p className=\"auth-error\">{authError}</p>}\n              </div>\n              <p className=\"auth-toggle-link\">\n                Don't have an account? <span onClick={() => { setAuthMode('signup'); setAuthError(null); }}>Sign Up</span>\n              </p>\n            </>\n          )}\n        </div>\n      )}\n\n      {/* Group Full Modal */}\n      {showGroupFullModal && (\n        <div className=\"sign-out-modal-overlay\">\n          <div className=\"sign-out-modal-content\">\n            <h2>Group Full</h2>\n            <p>This group already has 10 members. Please check back tomorrow!</p>\n            <div className=\"modal-actions\">\n              <button onClick={handleSignOut} className=\"btn-secondary\">\n                Sign Out\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* --- MAIN CONTENT LOGIC --- */}\n      \n      {/* 1. If we have an error (e.g. no questions) */}\n      {error && (\n        <div className=\"error-container\">\n          <h2>No Questions Yet</h2>\n          <p>{error}</p>\n          {/* Optional: Add a button to manual refresh if needed */}\n          <button onClick={() => window.location.reload()} className=\"btn-secondary\" style={{marginTop: '1rem'}}>\n            Refresh\n          </button>\n        </div>\n      )}\n\n      {/* 2. If we have questions, show the quiz */}\n      {questions.length > 0 && !showAuthForm && !error && (\n        <div className=\"question-form\">\n          <div className=\"progress-indicator\">\n            <div className=\"progress-dots-container\">\n              {questions.map((_, index) => (\n                <div\n                  key={index}\n                  className={`\n                    progress-dot \n                    ${index === currentQuestionIndex ? 'active' : ''}\n                    ${index < currentQuestionIndex ? 'completed' : ''}\n                  `}\n                />\n              ))}\n            </div>\n          </div>\n\n          <div className=\"question-block\">\n            <div className=\"question-nav-header\">\n              {currentQuestionIndex > 0 && (\n                <button onClick={handleBack} className=\"btn-back-question\">\n                  <img \n                    src=\"https://firebasestorage.googleapis.com/v0/b/brillianse-801f7.firebasestorage.app/o/Arrow%203%20(1).png?alt=media&token=543fa238-2ab7-4906-b2c3-8d5610d9119c\" \n                    alt=\"Back\" \n                  />\n                </button>\n              )}\n            </div>\n            <p className=\"question-text\">\n              {questions[currentQuestionIndex]}\n            </p>\n            \n            <div className=\"button-group\">\n              <button\n                type=\"button\"\n                className={`btn-answer ${answers[currentQuestionIndex] === 'yes' ? 'selected' : ''}`}\n                onClick={() => handleAnswer(currentQuestionIndex, 'yes')}\n              >\n                Yes\n              </button>\n              <button\n                type=\"button\"\n                className={`btn-answer ${answers[currentQuestionIndex] === 'no' ? 'selected' : ''}`}\n                onClick={() => handleAnswer(currentQuestionIndex, 'no')}\n              >\n                No\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}"],"names":[],"mappings":"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"}}]
}