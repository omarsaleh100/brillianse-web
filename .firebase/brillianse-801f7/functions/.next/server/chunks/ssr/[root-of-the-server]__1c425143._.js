module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},24241,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23700),e=a.i(20331);a.i(69387);var f=a.i(60574);a.i(30485);var g=a.i(31052),h=a.i(50944),i=a.i(38246);let j="https://firebasestorage.googleapis.com/v0/b/brillianse-801f7.firebasestorage.app/o/logos%2FBrillianse%20(5)%20copy.png?alt=media&token=ecffd21e-dff9-4151-b57f-5515be4c87e7";function k(){let[a,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!1),B=(0,h.useRouter)(),C=(0,h.useParams)().groupId;(0,c.useEffect)(()=>{let a=(0,g.onAuthStateChanged)(e.auth,a=>{a||B.push("/"),k(a)});return()=>a()},[B]),(0,c.useEffect)(()=>{C&&a&&(async()=>{try{m(!0),o(null);let b=new Date().toISOString().split("T")[0],c=(0,f.doc)(e.db,`daily_groups/${b}/groups`,C),d=await (0,f.getDoc)(c);if(!d.exists())throw Error("This group does not exist or has not been formed yet.");let g=d.data().members||[];if(!g.includes(a.uid))return void B.push("/");let h=g.map(a=>(0,f.getDoc)((0,f.doc)(e.db,"users",a))),i=(await Promise.all(h)).filter(a=>a.exists()).map(a=>{let b=a.data();return{id:a.id,name:b.name||b.username||"Anonymous",username:b.username||"user",email:b.email,profilePictureUrl:b.profilePictureUrl||null,socials:b.socials||{}}}).sort((b,c)=>b.id===a.uid?-1:+(c.id===a.uid));q(i)}catch(a){console.error(a),o(a.message||"Failed to load group members.")}finally{m(!1)}})()},[C,a,B]);let D=async()=>{if((u(!0),!(x.length>0)||!(v.length>0))&&a)try{A(!0);let b=(0,f.doc)(e.db,"users",a.uid),c=await (0,f.getDoc)(b);if(c.exists()){let a=c.data();w(a.dailyGroup?.answers||[])}let d=(0,f.doc)(e.db,"config","daily"),g=await (0,f.getDoc)(d);g.exists()&&y(g.data().questions||[])}catch(a){console.error("Error loading answers:",a)}finally{A(!1)}};return l?(0,b.jsx)("main",{className:"loading-container",children:"Loading your group..."}):n?(0,b.jsx)("main",{className:"error-container",children:n}):(0,b.jsxs)("main",{children:[(0,b.jsx)(d.default,{children:(0,b.jsx)("title",{children:"Your Daily Group"})}),(0,b.jsx)("div",{className:"header-actions",children:(0,b.jsx)(i.default,{href:"/profile",className:"btn-sign-in-header",children:"Profile"})}),(0,b.jsxs)("div",{className:"group-header",children:[(0,b.jsxs)("h1",{children:["Your Group: ",(0,b.jsx)("code",{children:C})]}),p.length>1&&(0,b.jsxs)("p",{children:["Here are the ",p.length," members who answered the same as you today."]}),(0,b.jsx)("div",{className:"header-links",children:(0,b.jsx)("button",{onClick:D,className:"btn-link-style",children:"View My Answers"})})]}),1===p.length&&(0,b.jsx)("p",{className:"group-empty-message",children:"You're the first one here. Others are joining soon, check back later!"}),(0,b.jsx)("div",{className:"member-list",children:p.map(c=>(0,b.jsxs)("div",{className:"member-circle-card",onClick:()=>s(c),children:[(0,b.jsxs)("div",{className:"member-avatar-wrapper",children:[(0,b.jsx)("img",{src:c.profilePictureUrl||j,alt:"Profile",className:"member-avatar",onError:a=>a.currentTarget.src=j}),c.id===a?.uid&&(0,b.jsx)("span",{className:"you-tag-circle",children:"You"})]}),(0,b.jsxs)("div",{className:"member-info",children:[(0,b.jsx)("h3",{children:c.name}),(0,b.jsxs)("p",{className:"member-handle",children:["@",c.username]}),(0,b.jsxs)("div",{className:"social-links",children:[c.socials.twitter&&(0,b.jsx)("a",{href:`https://twitter.com/${c.socials.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",children:"Twitter"}),c.socials.linkedin&&(0,b.jsx)("a",{href:c.socials.linkedin.startsWith("http")?c.socials.linkedin:`https://${c.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"}),c.socials.instagram&&(0,b.jsx)("a",{href:`https://instagram.com/${c.socials.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",children:"Instagram"}),c.id!==a?.uid&&(0,b.jsx)("a",{href:`mailto:${c.email}`,children:"Email"})]}),!c.socials.twitter&&!c.socials.linkedin&&!c.socials.instagram&&c.id!==a?.uid&&(0,b.jsx)("p",{className:"no-socials",children:"This user hasn't added their socials yet."})]})]},c.id))}),r&&(0,b.jsxs)("div",{className:"member-modal-overlay",onClick:()=>s(null),children:[(0,b.jsxs)("div",{className:"member-modal-content",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"member-modal-image",children:(0,b.jsx)("img",{src:r.profilePictureUrl||j,alt:"Profile",onError:a=>a.currentTarget.src=j})}),(0,b.jsxs)("div",{className:"member-modal-info",children:[(0,b.jsx)("h2",{children:r.name}),(0,b.jsxs)("p",{className:"modal-handle",children:["@",r.username]}),r.id===a?.uid&&(0,b.jsx)("span",{className:"you-tag-modal",children:"You"}),(0,b.jsxs)("div",{className:"social-links-modal",children:[r.socials.twitter&&(0,b.jsx)("a",{href:`https://twitter.com/${r.socials.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",children:"Twitter"}),r.socials.linkedin&&(0,b.jsx)("a",{href:r.socials.linkedin.startsWith("http")?r.socials.linkedin:`https://${r.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"}),r.socials.instagram&&(0,b.jsx)("a",{href:`https://instagram.com/${r.socials.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",children:"Instagram"}),r.id!==a?.uid&&(0,b.jsx)("a",{href:`mailto:${r.email}`,children:"Email"})]}),!r.socials.twitter&&!r.socials.linkedin&&!r.socials.instagram&&r.id!==a?.uid&&(0,b.jsx)("p",{className:"no-socials",children:"This user hasn't added their socials yet."})]})]}),(0,b.jsx)("p",{className:"modal-exit-text",children:"Press anywhere to exit enlarged view"})]}),t&&(0,b.jsxs)("div",{className:"member-modal-overlay",onClick:()=>u(!1),children:[(0,b.jsxs)("div",{className:"answers-modal-content",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h1",{children:"Your Answers"}),(0,b.jsx)("p",{children:"These are the answers you submitted today."}),z?(0,b.jsx)("p",{children:"Loading..."}):(0,b.jsx)("div",{className:"answers-list",children:x.map((a,c)=>(0,b.jsxs)("div",{className:`answer-item ${"yes"===v[c]?"answered-yes":"answered-no"}`,children:[(0,b.jsxs)("p",{className:"question-text",children:[c+1,". ",a]}),(0,b.jsx)("span",{className:`answer-tag ${"yes"===v[c]?"yes":"no"}`,children:v[c]||"No Answer"})]},c))})]}),(0,b.jsx)("p",{className:"modal-exit-text",children:"Press anywhere to close"})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1c425143._.js.map